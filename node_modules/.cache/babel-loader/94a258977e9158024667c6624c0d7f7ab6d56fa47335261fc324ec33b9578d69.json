{"ast":null,"code":"var _jsxFileName = \"/Users/eddy/AdvCUA_page/attack-demo/src/components/Demo.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { vscDarkPlus } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DemoSection = styled.section`\n  padding: 4rem 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n  min-height: 100vh;\n`;\n_c = DemoSection;\nconst SectionTitle = styled.h2`\n  font-size: 2.5rem;\n  font-weight: 700;\n  text-align: center;\n  margin-bottom: 1rem;\n  background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n`;\n_c2 = SectionTitle;\nconst SectionSubtitle = styled.p`\n  text-align: center;\n  color: ${props => props.theme.colors.textSecondary};\n  font-size: 1.125rem;\n  margin-bottom: 3rem;\n`;\n_c3 = SectionSubtitle;\nconst DemoContainer = styled.div`\n  background-color: ${props => props.theme.colors.surface};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  padding: 2rem;\n  border: 1px solid ${props => props.theme.colors.border};\n  position: relative;\n  overflow: hidden;\n`;\n_c4 = DemoContainer;\nconst DemoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid ${props => props.theme.colors.border};\n`;\n_c5 = DemoHeader;\nconst DemoInfo = styled.div`\n  display: flex;\n  gap: 2rem;\n  align-items: center;\n`;\n_c6 = DemoInfo;\nconst InfoItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n`;\n_c7 = InfoItem;\nconst InfoLabel = styled.span`\n  color: ${props => props.theme.colors.textSecondary};\n  font-size: 0.875rem;\n`;\n_c8 = InfoLabel;\nconst InfoValue = styled.span`\n  color: ${props => props.theme.colors.text};\n  font-weight: 600;\n`;\n_c9 = InfoValue;\nconst ControlButtons = styled.div`\n  display: flex;\n  gap: 1rem;\n`;\n_c0 = ControlButtons;\nconst ControlButton = styled.button`\n  padding: 0.5rem 1rem;\n  background-color: ${props => props.theme.colors.surfaceLight};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: ${props => props.theme.borderRadius.md};\n  color: ${props => props.theme.colors.text};\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:hover {\n    background-color: ${props => props.theme.colors.primary};\n    border-color: ${props => props.theme.colors.primary};\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n_c1 = ControlButton;\nconst Terminal = styled.div`\n  background-color: #1e1e1e;\n  border-radius: ${props => props.theme.borderRadius.md};\n  padding: 1rem;\n  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n  font-size: 0.875rem;\n  height: 500px;\n  overflow-y: auto;\n  position: relative;\n`;\n_c10 = Terminal;\nconst TerminalContent = styled.div`\n  white-space: pre-wrap;\n  word-break: break-word;\n`;\n_c11 = TerminalContent;\nconst RoundContainer = styled(motion.div)`\n  margin-bottom: 1.5rem;\n`;\n_c12 = RoundContainer;\nconst RoundHeader = styled.div`\n  color: #60a5fa;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  font-size: 0.9rem;\n`;\n_c13 = RoundHeader;\nconst ThoughtBlock = styled(motion.div)`\n  background-color: rgba(96, 165, 250, 0.1);\n  border-left: 3px solid #60a5fa;\n  padding: 0.75rem;\n  margin: 0.5rem 0;\n  border-radius: 0 ${props => props.theme.borderRadius.sm} ${props => props.theme.borderRadius.sm} 0;\n`;\n_c14 = ThoughtBlock;\nconst ActionBlock = styled(motion.div)`\n  background-color: rgba(167, 139, 250, 0.1);\n  border-left: 3px solid #a78bfa;\n  padding: 0.75rem;\n  margin: 0.5rem 0;\n  border-radius: 0 ${props => props.theme.borderRadius.sm} ${props => props.theme.borderRadius.sm} 0;\n`;\n_c15 = ActionBlock;\nconst OutputBlock = styled(motion.div)`\n  background-color: rgba(34, 197, 94, 0.1);\n  border-left: 3px solid #22c55e;\n  padding: 0.75rem;\n  margin: 0.5rem 0;\n  border-radius: 0 ${props => props.theme.borderRadius.sm} ${props => props.theme.borderRadius.sm} 0;\n  max-height: 200px;\n  overflow-y: auto;\n`;\n_c16 = OutputBlock;\nconst ProgressBar = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  background-color: ${props => props.theme.colors.surface};\n`;\n_c17 = ProgressBar;\nconst ProgressFill = styled(motion.div)`\n  height: 100%;\n  background: linear-gradient(90deg, #60a5fa 0%, #a78bfa 100%);\n`;\n_c18 = ProgressFill;\nconst parseHistory = history => {\n  const rounds = [];\n  // Split by Round headers and process each section\n  const sections = history.split(/(?==== Round \\d+ ===)/);\n  sections.forEach(section => {\n    var _roundContent$match, _roundContent$match$, _roundContent$match2, _roundContent$match2$, _roundContent$match3, _roundContent$match3$, _roundContent$match4, _roundContent$match4$;\n    const roundMatch = section.match(/=== Round (\\d+) ===/);\n    if (!roundMatch) return;\n    const roundNumber = parseInt(roundMatch[1]);\n    const roundContent = section;\n    const thought = ((_roundContent$match = roundContent.match(/üß† Agent thought: (.*?)(?=\\n‚ö°|$)/s)) === null || _roundContent$match === void 0 ? void 0 : (_roundContent$match$ = _roundContent$match[1]) === null || _roundContent$match$ === void 0 ? void 0 : _roundContent$match$.trim()) || '';\n    const action = ((_roundContent$match2 = roundContent.match(/‚ö° Agent action: (.*?)(?=\\nüìù|\\nüíª|$)/s)) === null || _roundContent$match2 === void 0 ? void 0 : (_roundContent$match2$ = _roundContent$match2[1]) === null || _roundContent$match2$ === void 0 ? void 0 : _roundContent$match2$.trim()) || '';\n    const content = ((_roundContent$match3 = roundContent.match(/üìù Agent content: (.*?)(?=\\nüíª|$)/s)) === null || _roundContent$match3 === void 0 ? void 0 : (_roundContent$match3$ = _roundContent$match3[1]) === null || _roundContent$match3$ === void 0 ? void 0 : _roundContent$match3$.trim()) || '';\n    const output = ((_roundContent$match4 = roundContent.match(/üíª Environment output: ([\\s\\S]*?)(?=\\n\\n=== Round|$)/s)) === null || _roundContent$match4 === void 0 ? void 0 : (_roundContent$match4$ = _roundContent$match4[1]) === null || _roundContent$match4$ === void 0 ? void 0 : _roundContent$match4$.trim()) || '';\n    rounds.push({\n      number: roundNumber,\n      thought,\n      action,\n      content,\n      output\n    });\n  });\n  return rounds;\n};\nexport const Demo = () => {\n  _s();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentRound, setCurrentRound] = useState(0);\n  const [speed, setSpeed] = useState(2000); // milliseconds per step\n  const [demoData, setDemoData] = useState([]);\n  const terminalRef = useRef(null);\n  useEffect(() => {\n    // Load and parse demo data\n    fetch('/demo.json').then(response => response.json()).then(data => {\n      console.log('Loaded data:', data); // Debug log\n      // Handle both array and object formats\n      const demoItem = Array.isArray(data) ? data[0] : data;\n      const history = demoItem.history;\n      if (!history) {\n        console.error('No history found in data');\n        return;\n      }\n      const parsedRounds = parseHistory(history);\n      console.log('Parsed rounds:', parsedRounds); // Debug log\n      setDemoData(parsedRounds);\n    }).catch(error => console.error('Error loading demo data:', error));\n  }, []);\n  useEffect(() => {\n    if (isPlaying && currentRound < demoData.length - 1) {\n      const timer = setTimeout(() => {\n        setCurrentRound(prev => prev + 1);\n      }, speed);\n      return () => clearTimeout(timer);\n    } else if (currentRound >= demoData.length - 1) {\n      setIsPlaying(false);\n    }\n  }, [isPlaying, currentRound, demoData.length, speed]);\n  useEffect(() => {\n    // Auto-scroll terminal to bottom with smooth animation\n    if (terminalRef.current) {\n      terminalRef.current.scrollTo({\n        top: terminalRef.current.scrollHeight,\n        behavior: 'smooth'\n      });\n    }\n  }, [currentRound]);\n  const handlePlay = () => {\n    console.log('Play clicked, demoData length:', demoData.length); // Debug\n    if (currentRound >= demoData.length - 1) {\n      setCurrentRound(0);\n    }\n    setIsPlaying(true);\n  };\n  const handlePause = () => {\n    setIsPlaying(false);\n  };\n  const handleReset = () => {\n    setIsPlaying(false);\n    setCurrentRound(0);\n  };\n  const progress = demoData.length > 0 ? (currentRound + 1) / demoData.length * 100 : 0;\n  return /*#__PURE__*/_jsxDEV(DemoSection, {\n    id: \"demo\",\n    children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n      children: \"Interactive Attack Demo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SectionSubtitle, {\n      children: \"Watch how the agent executes a DNS spoofing attack through terminal interactions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DemoContainer, {\n      children: [/*#__PURE__*/_jsxDEV(DemoHeader, {\n        children: [/*#__PURE__*/_jsxDEV(DemoInfo, {\n          children: [/*#__PURE__*/_jsxDEV(InfoItem, {\n            children: [/*#__PURE__*/_jsxDEV(InfoLabel, {\n              children: \"Attack Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InfoValue, {\n              children: \"DNS Spoofing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InfoItem, {\n            children: [/*#__PURE__*/_jsxDEV(InfoLabel, {\n              children: \"Steps\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InfoValue, {\n              children: [currentRound + 1, \" / \", demoData.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InfoItem, {\n            children: [/*#__PURE__*/_jsxDEV(InfoLabel, {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InfoValue, {\n              style: {\n                color: currentRound === demoData.length - 1 ? '#10b981' : '#f59e0b'\n              },\n              children: currentRound === demoData.length - 1 ? 'Completed' : 'In Progress'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ControlButtons, {\n          children: [/*#__PURE__*/_jsxDEV(ControlButton, {\n            onClick: handlePlay,\n            disabled: isPlaying,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u25B6\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this), \" Play\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n            onClick: handlePause,\n            disabled: !isPlaying,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u23F8\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), \" Pause\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n            onClick: handleReset,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDD04\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), \" Reset\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n            onClick: () => setSpeed(speed === 2000 ? 1000 : speed === 1000 ? 500 : 2000),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u26A1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), \" \", speed === 2000 ? '1x' : speed === 1000 ? '2x' : '4x']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Terminal, {\n        ref: terminalRef,\n        children: /*#__PURE__*/_jsxDEV(TerminalContent, {\n          children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n            children: demoData.slice(0, currentRound + 1).map((round, index) => /*#__PURE__*/_jsxDEV(RoundContainer, {\n              initial: {\n                opacity: 0,\n                y: 20\n              },\n              animate: {\n                opacity: 1,\n                y: 0\n              },\n              transition: {\n                duration: 0.5\n              },\n              children: [/*#__PURE__*/_jsxDEV(RoundHeader, {\n                children: [\"=== Round \", round.number, \" ===\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ThoughtBlock, {\n                initial: {\n                  opacity: 0,\n                  x: -20\n                },\n                animate: {\n                  opacity: 1,\n                  x: 0\n                },\n                transition: {\n                  delay: 0.2\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uD83E\\uDDE0 Agent thought:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this), \" \", round.thought]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ActionBlock, {\n                initial: {\n                  opacity: 0,\n                  x: -20\n                },\n                animate: {\n                  opacity: 1,\n                  x: 0\n                },\n                transition: {\n                  delay: 0.4\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u26A1 Agent action:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 21\n                }, this), \" \", round.action, round.content && round.content !== 'None' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginTop: '0.5rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"\\uD83D\\uDCDD Content:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(SyntaxHighlighter, {\n                    language: \"bash\",\n                    style: vscDarkPlus,\n                    customStyle: {\n                      margin: '0.5rem 0',\n                      padding: '0.5rem',\n                      fontSize: '0.875rem',\n                      borderRadius: '4px'\n                    },\n                    children: round.content\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(OutputBlock, {\n                initial: {\n                  opacity: 0,\n                  x: -20\n                },\n                animate: {\n                  opacity: 1,\n                  x: 0\n                },\n                transition: {\n                  delay: 0.6\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uD83D\\uDCBB Environment output:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                  style: {\n                    margin: '0.5rem 0',\n                    fontSize: '0.8rem'\n                  },\n                  children: round.output || 'No output'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 19\n              }, this)]\n            }, round.number, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n        children: /*#__PURE__*/_jsxDEV(ProgressFill, {\n          initial: {\n            width: '0%'\n          },\n          animate: {\n            width: `${progress}%`\n          },\n          transition: {\n            duration: 0.3\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 275,\n    columnNumber: 5\n  }, this);\n};\n_s(Demo, \"foN7nSGuHyIqUqA4H245GNiIiIA=\");\n_c19 = Demo;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19;\n$RefreshReg$(_c, \"DemoSection\");\n$RefreshReg$(_c2, \"SectionTitle\");\n$RefreshReg$(_c3, \"SectionSubtitle\");\n$RefreshReg$(_c4, \"DemoContainer\");\n$RefreshReg$(_c5, \"DemoHeader\");\n$RefreshReg$(_c6, \"DemoInfo\");\n$RefreshReg$(_c7, \"InfoItem\");\n$RefreshReg$(_c8, \"InfoLabel\");\n$RefreshReg$(_c9, \"InfoValue\");\n$RefreshReg$(_c0, \"ControlButtons\");\n$RefreshReg$(_c1, \"ControlButton\");\n$RefreshReg$(_c10, \"Terminal\");\n$RefreshReg$(_c11, \"TerminalContent\");\n$RefreshReg$(_c12, \"RoundContainer\");\n$RefreshReg$(_c13, \"RoundHeader\");\n$RefreshReg$(_c14, \"ThoughtBlock\");\n$RefreshReg$(_c15, \"ActionBlock\");\n$RefreshReg$(_c16, \"OutputBlock\");\n$RefreshReg$(_c17, \"ProgressBar\");\n$RefreshReg$(_c18, \"ProgressFill\");\n$RefreshReg$(_c19, \"Demo\");","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","motion","AnimatePresence","Prism","SyntaxHighlighter","vscDarkPlus","jsxDEV","_jsxDEV","DemoSection","section","_c","SectionTitle","h2","_c2","SectionSubtitle","p","props","theme","colors","textSecondary","_c3","DemoContainer","div","surface","borderRadius","lg","border","_c4","DemoHeader","_c5","DemoInfo","_c6","InfoItem","_c7","InfoLabel","span","_c8","InfoValue","text","_c9","ControlButtons","_c0","ControlButton","button","surfaceLight","md","primary","_c1","Terminal","_c10","TerminalContent","_c11","RoundContainer","_c12","RoundHeader","_c13","ThoughtBlock","sm","_c14","ActionBlock","_c15","OutputBlock","_c16","ProgressBar","_c17","ProgressFill","_c18","parseHistory","history","rounds","sections","split","forEach","_roundContent$match","_roundContent$match$","_roundContent$match2","_roundContent$match2$","_roundContent$match3","_roundContent$match3$","_roundContent$match4","_roundContent$match4$","roundMatch","match","roundNumber","parseInt","roundContent","thought","trim","action","content","output","push","number","Demo","_s","isPlaying","setIsPlaying","currentRound","setCurrentRound","speed","setSpeed","demoData","setDemoData","terminalRef","fetch","then","response","json","data","console","log","demoItem","Array","isArray","error","parsedRounds","catch","length","timer","setTimeout","prev","clearTimeout","current","scrollTo","top","scrollHeight","behavior","handlePlay","handlePause","handleReset","progress","id","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","onClick","disabled","ref","slice","map","round","index","initial","opacity","y","animate","transition","duration","x","delay","marginTop","language","customStyle","margin","padding","fontSize","width","_c19","$RefreshReg$"],"sources":["/Users/eddy/AdvCUA_page/attack-demo/src/components/Demo.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { vscDarkPlus } from 'react-syntax-highlighter/dist/esm/styles/prism';\n\nconst DemoSection = styled.section`\n  padding: 4rem 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n  min-height: 100vh;\n`;\n\nconst SectionTitle = styled.h2`\n  font-size: 2.5rem;\n  font-weight: 700;\n  text-align: center;\n  margin-bottom: 1rem;\n  background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n`;\n\nconst SectionSubtitle = styled.p`\n  text-align: center;\n  color: ${props => props.theme.colors.textSecondary};\n  font-size: 1.125rem;\n  margin-bottom: 3rem;\n`;\n\nconst DemoContainer = styled.div`\n  background-color: ${props => props.theme.colors.surface};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  padding: 2rem;\n  border: 1px solid ${props => props.theme.colors.border};\n  position: relative;\n  overflow: hidden;\n`;\n\nconst DemoHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid ${props => props.theme.colors.border};\n`;\n\nconst DemoInfo = styled.div`\n  display: flex;\n  gap: 2rem;\n  align-items: center;\n`;\n\nconst InfoItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n`;\n\nconst InfoLabel = styled.span`\n  color: ${props => props.theme.colors.textSecondary};\n  font-size: 0.875rem;\n`;\n\nconst InfoValue = styled.span`\n  color: ${props => props.theme.colors.text};\n  font-weight: 600;\n`;\n\nconst ControlButtons = styled.div`\n  display: flex;\n  gap: 1rem;\n`;\n\nconst ControlButton = styled.button`\n  padding: 0.5rem 1rem;\n  background-color: ${props => props.theme.colors.surfaceLight};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: ${props => props.theme.borderRadius.md};\n  color: ${props => props.theme.colors.text};\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:hover {\n    background-color: ${props => props.theme.colors.primary};\n    border-color: ${props => props.theme.colors.primary};\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n\nconst Terminal = styled.div`\n  background-color: #1e1e1e;\n  border-radius: ${props => props.theme.borderRadius.md};\n  padding: 1rem;\n  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n  font-size: 0.875rem;\n  height: 500px;\n  overflow-y: auto;\n  position: relative;\n`;\n\nconst TerminalContent = styled.div`\n  white-space: pre-wrap;\n  word-break: break-word;\n`;\n\nconst RoundContainer = styled(motion.div)`\n  margin-bottom: 1.5rem;\n`;\n\nconst RoundHeader = styled.div`\n  color: #60a5fa;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  font-size: 0.9rem;\n`;\n\nconst ThoughtBlock = styled(motion.div)`\n  background-color: rgba(96, 165, 250, 0.1);\n  border-left: 3px solid #60a5fa;\n  padding: 0.75rem;\n  margin: 0.5rem 0;\n  border-radius: 0 ${props => props.theme.borderRadius.sm} ${props => props.theme.borderRadius.sm} 0;\n`;\n\nconst ActionBlock = styled(motion.div)`\n  background-color: rgba(167, 139, 250, 0.1);\n  border-left: 3px solid #a78bfa;\n  padding: 0.75rem;\n  margin: 0.5rem 0;\n  border-radius: 0 ${props => props.theme.borderRadius.sm} ${props => props.theme.borderRadius.sm} 0;\n`;\n\nconst OutputBlock = styled(motion.div)`\n  background-color: rgba(34, 197, 94, 0.1);\n  border-left: 3px solid #22c55e;\n  padding: 0.75rem;\n  margin: 0.5rem 0;\n  border-radius: 0 ${props => props.theme.borderRadius.sm} ${props => props.theme.borderRadius.sm} 0;\n  max-height: 200px;\n  overflow-y: auto;\n`;\n\nconst ProgressBar = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  background-color: ${props => props.theme.colors.surface};\n`;\n\nconst ProgressFill = styled(motion.div)`\n  height: 100%;\n  background: linear-gradient(90deg, #60a5fa 0%, #a78bfa 100%);\n`;\n\ninterface Round {\n  number: number;\n  thought: string;\n  action: string;\n  content: string;\n  output: string;\n}\n\nconst parseHistory = (history: string): Round[] => {\n  const rounds: Round[] = [];\n  // Split by Round headers and process each section\n  const sections = history.split(/(?==== Round \\d+ ===)/);\n  \n  sections.forEach(section => {\n    const roundMatch = section.match(/=== Round (\\d+) ===/);\n    if (!roundMatch) return;\n    \n    const roundNumber = parseInt(roundMatch[1]);\n    const roundContent = section;\n    \n    const thought = roundContent.match(/üß† Agent thought: (.*?)(?=\\n‚ö°|$)/s)?.[1]?.trim() || '';\n    const action = roundContent.match(/‚ö° Agent action: (.*?)(?=\\nüìù|\\nüíª|$)/s)?.[1]?.trim() || '';\n    const content = roundContent.match(/üìù Agent content: (.*?)(?=\\nüíª|$)/s)?.[1]?.trim() || '';\n    const output = roundContent.match(/üíª Environment output: ([\\s\\S]*?)(?=\\n\\n=== Round|$)/s)?.[1]?.trim() || '';\n    \n    rounds.push({\n      number: roundNumber,\n      thought,\n      action,\n      content,\n      output\n    });\n  });\n  \n  return rounds;\n};\n\nexport const Demo: React.FC = () => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentRound, setCurrentRound] = useState(0);\n  const [speed, setSpeed] = useState(2000); // milliseconds per step\n  const [demoData, setDemoData] = useState<Round[]>([]);\n  const terminalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    // Load and parse demo data\n    fetch('/demo.json')\n      .then(response => response.json())\n      .then(data => {\n        console.log('Loaded data:', data); // Debug log\n        // Handle both array and object formats\n        const demoItem = Array.isArray(data) ? data[0] : data;\n        const history = demoItem.history;\n        \n        if (!history) {\n          console.error('No history found in data');\n          return;\n        }\n        \n        const parsedRounds = parseHistory(history);\n        console.log('Parsed rounds:', parsedRounds); // Debug log\n        setDemoData(parsedRounds);\n      })\n      .catch(error => console.error('Error loading demo data:', error));\n  }, []);\n\n  useEffect(() => {\n    if (isPlaying && currentRound < demoData.length - 1) {\n      const timer = setTimeout(() => {\n        setCurrentRound(prev => prev + 1);\n      }, speed);\n      return () => clearTimeout(timer);\n    } else if (currentRound >= demoData.length - 1) {\n      setIsPlaying(false);\n    }\n  }, [isPlaying, currentRound, demoData.length, speed]);\n\n  useEffect(() => {\n    // Auto-scroll terminal to bottom with smooth animation\n    if (terminalRef.current) {\n      terminalRef.current.scrollTo({\n        top: terminalRef.current.scrollHeight,\n        behavior: 'smooth'\n      });\n    }\n  }, [currentRound]);\n\n  const handlePlay = () => {\n    console.log('Play clicked, demoData length:', demoData.length); // Debug\n    if (currentRound >= demoData.length - 1) {\n      setCurrentRound(0);\n    }\n    setIsPlaying(true);\n  };\n\n  const handlePause = () => {\n    setIsPlaying(false);\n  };\n\n  const handleReset = () => {\n    setIsPlaying(false);\n    setCurrentRound(0);\n  };\n\n  const progress = demoData.length > 0 ? ((currentRound + 1) / demoData.length) * 100 : 0;\n\n  return (\n    <DemoSection id=\"demo\">\n      <SectionTitle>Interactive Attack Demo</SectionTitle>\n      <SectionSubtitle>\n        Watch how the agent executes a DNS spoofing attack through terminal interactions\n      </SectionSubtitle>\n      \n      <DemoContainer>\n        <DemoHeader>\n          <DemoInfo>\n            <InfoItem>\n              <InfoLabel>Attack Type</InfoLabel>\n              <InfoValue>DNS Spoofing</InfoValue>\n            </InfoItem>\n            <InfoItem>\n              <InfoLabel>Steps</InfoLabel>\n              <InfoValue>{currentRound + 1} / {demoData.length}</InfoValue>\n            </InfoItem>\n            <InfoItem>\n              <InfoLabel>Status</InfoLabel>\n              <InfoValue style={{ color: currentRound === demoData.length - 1 ? '#10b981' : '#f59e0b' }}>\n                {currentRound === demoData.length - 1 ? 'Completed' : 'In Progress'}\n              </InfoValue>\n            </InfoItem>\n          </DemoInfo>\n          \n          <ControlButtons>\n            <ControlButton onClick={handlePlay} disabled={isPlaying}>\n              <span>‚ñ∂Ô∏è</span> Play\n            </ControlButton>\n            <ControlButton onClick={handlePause} disabled={!isPlaying}>\n              <span>‚è∏Ô∏è</span> Pause\n            </ControlButton>\n            <ControlButton onClick={handleReset}>\n              <span>üîÑ</span> Reset\n            </ControlButton>\n            <ControlButton onClick={() => setSpeed(speed === 2000 ? 1000 : speed === 1000 ? 500 : 2000)}>\n              <span>‚ö°</span> {speed === 2000 ? '1x' : speed === 1000 ? '2x' : '4x'}\n            </ControlButton>\n          </ControlButtons>\n        </DemoHeader>\n        \n        <Terminal ref={terminalRef}>\n          <TerminalContent>\n            <AnimatePresence>\n              {demoData.slice(0, currentRound + 1).map((round, index) => (\n                <RoundContainer\n                  key={round.number}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ duration: 0.5 }}\n                >\n                  <RoundHeader>=== Round {round.number} ===</RoundHeader>\n                  \n                  <ThoughtBlock\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: 0.2 }}\n                  >\n                    <strong>üß† Agent thought:</strong> {round.thought}\n                  </ThoughtBlock>\n                  \n                  <ActionBlock\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: 0.4 }}\n                  >\n                    <strong>‚ö° Agent action:</strong> {round.action}\n                    {round.content && round.content !== 'None' && (\n                      <div style={{ marginTop: '0.5rem' }}>\n                        <strong>üìù Content:</strong>\n                        <SyntaxHighlighter \n                          language=\"bash\" \n                          style={vscDarkPlus}\n                          customStyle={{\n                            margin: '0.5rem 0',\n                            padding: '0.5rem',\n                            fontSize: '0.875rem',\n                            borderRadius: '4px'\n                          }}\n                        >\n                          {round.content}\n                        </SyntaxHighlighter>\n                      </div>\n                    )}\n                  </ActionBlock>\n                  \n                  <OutputBlock\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: 0.6 }}\n                  >\n                    <strong>üíª Environment output:</strong>\n                    <pre style={{ margin: '0.5rem 0', fontSize: '0.8rem' }}>\n                      {round.output || 'No output'}\n                    </pre>\n                  </OutputBlock>\n                </RoundContainer>\n              ))}\n            </AnimatePresence>\n          </TerminalContent>\n        </Terminal>\n        \n        <ProgressBar>\n          <ProgressFill\n            initial={{ width: '0%' }}\n            animate={{ width: `${progress}%` }}\n            transition={{ duration: 0.3 }}\n          />\n        </ProgressBar>\n      </DemoContainer>\n    </DemoSection>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}